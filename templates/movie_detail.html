{% extends '_main.html' %}

{% block main %}
 <main class="main-content">
        <div class="container">
            <div class="content-grid">
                <div class="poster-section fade-in">
                    <div class="poster-container">
                        <img src="{{ movie.poster.url }}" alt="{{ movie.title }}" class="poster-image">
                        <div class="poster-overlay"></div>
                       <!--<div class="rating-badge">‚òÖ 9.2</div> -->
                    </div>
                </div>

                <div class="info-section fade-in-delay-1">
                    <h1 class="title">{{ movie.title }}</h1>
                    
                    <div class="meta-info">
                        <div class="meta-item">
                            <span class="meta-label">Yƒ±l</span>
                            <span class="meta-value">{{ movie.release_year }}</span>
                        </div>
                        <div class="meta-item">
                            <span class="meta-label">S√ºre</span>
                            <span class="meta-value">{{ movie.duration }} dakika</span>
                        </div>
                        <div class="meta-item">
                            <span class="meta-label">T√ºr</span>
                            <span class="meta-value">Anime, Aksiyon</span>
                        </div>
                    </div>

                    <div class="description">
                        {{ movie.description }}
                    </div>
                </div>
            </div>
            
            <!-- Embedded Video Player Section -->
            <div class="embedded-video-section">
                <div class="embedded-video-container">
                    <div class="video-wrapper">
                        <video id="mainVideo" preload="metadata" poster="{{ movie.poster.url }}">
                            <source src="{{ movie.video_file.url }}" type="video/mp4">
                            Tarayƒ±cƒ±nƒ±z video oynatmayƒ± desteklemiyor.
                        </video>
                        
                        <!-- Video Controls Overlay -->
                        <div class="video-controls-overlay" id="videoControls">
                            <div class="controls-center">
                                <button class="control-btn" id="playPauseBtn" onclick="togglePlayPause()">
                                    <span id="playIcon">‚ñ∂</span>
                                </button>
                            </div>
                            
                            <div class="controls-bottom">
                                <div class="progress-container">
                                    <div class="progress-bar" id="progressBar">
                                        <div class="progress-fill" id="progressFill"></div>
                                        <div class="progress-handle" id="progressHandle"></div>
                                    </div>
                                    <div class="time-display">
                                        <span id="currentTime">00:00</span> / <span id="totalTime">00:00</span>
                                    </div>
                                </div>
                                
                                <div class="bottom-controls">
                                    <div class="left-controls">
                                        <button class="control-btn small" onclick="skipBackward()">‚è™</button>
                                        <button class="control-btn small" onclick="togglePlayPause()">
                                            <span id="playIcon2">‚ñ∂</span>
                                        </button>
                                        <button class="control-btn small" onclick="skipForward()">‚è©</button>
                                        <button class="control-btn small" onclick="toggleMute()">
                                            <span id="muteIcon">üîä</span>
                                        </button>
                                        <div class="volume-container">
                                            <input type="range" id="volumeSlider" min="0" max="100" value="100" class="volume-slider">
                                        </div>
                                    </div>
                                    
                                    <div class="right-controls">
                                        <button class="control-btn small" onclick="changePlaybackSpeed()">
                                            <span id="speedText">1x</span>
                                        </button>
                                        <button class="control-btn small" onclick="toggleFullscreen()">‚õ∂</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            
       
            
        </div>
    </div>
                      </div>
                </div>
            </div>
        </div>
    </main>

    <!-- Video Player JavaScript -->
    {% load static %}
    <script src="{% static 'javascript/videoplayer.js' %}"></script>
    <script src="{% static 'javascript/movie_detail.js' %}"></script>



    {% endblock %}